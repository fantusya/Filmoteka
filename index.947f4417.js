function e(e,t,n,o){Object.defineProperty(e,t,{get:n,set:o,enumerable:!0,configurable:!0})}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},o={},a=t.parcelRequired7c6;null==a&&((a=function(e){if(e in n)return n[e].exports;if(e in o){var t=o[e];delete o[e];var a={id:e,exports:{}};return n[e]=a,t.call(a.exports,a,a.exports),a.exports}var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,t){o[e]=t},t.parcelRequired7c6=a),a.register("jU4ZD",(function(t,n){e(t.exports,"default",(function(){return r}));var o=a("1drNe");a("krGWQ");function r(e){return e.map((({title:e,name:t,poster_path:n,genre_ids:a,release_date:r,first_air_date:s,vote_average:d,id:c})=>{let l="";return l=null===n?"https://raw.githubusercontent.com/marvall/filmoteka/main/src/images/no-poster.png":`https://image.tmdb.org/t/p/w500/https://image.tmdb.org/t/p/w500/${n}`,`<li data-aos="fade-up"\n    data-aos-offset="200"\n    data-aos-delay="100"\n    data-aos-duration="1000"\n    data-aos-easing="ease-in-out"\n     class="movie-card">\n        <div class="movie-card__link" href="#">\n        <p class="movie-card__raiting">\n                        <b>${u=d,u?u.toFixed(1):"No vote"}</b>\n                    </p>\n                <img data-id="${c}" width="280" height="402" class="movie-card__img" src="${l}" alt="${e||t}" loading="lazy"/>\n    <div data-aos="fade-right"\n    data-aos-delay="50"\n    data-aos-duration="1000"\n    data-aos-easing="ease-in-out"\n    data-aos-once="false"\n     class="movie-card__cont">\n                  <h2 class="movie-card__title">${e||t}</h2>\n                    <p class="movie-card__info">\n                        <b>${(0,o.gettingGenresListForCard)(a)||"Genre not defined"} | </b>\n                    </p>\n                    <p class="movie-card__info">\n                        <b>${i(r)||i(s)}</b>\n                    </p>\n                       \n                    </div>\n                    </div>\n            </li>`;var u})).join("")}function i(e){return e?e.slice(0,4):"No data"}})),a.register("1drNe",(function(t,n){function o(e){let t="";for(const n of e){const e=localStorage.getItem(`genre_${n}`);e&&(t&&(t+=", "),t+=e)}return t}function a(e){let t="";if(e.length<=2){for(const n of e){let e=localStorage.getItem(`genre_${n}`);e&&(t&&(t+=", "),t+=e)}return t}if(e.length>=3){let n=0;for(const o of e){let e=localStorage.getItem(`genre_${o}`);if(e){if(n+=1,3===n){t+=", Other";break}t&&(t+=", "),t+=e}}return t}}e(t.exports,"gettingGenresListForModal",(function(){return o})),e(t.exports,"gettingGenresListForCard",(function(){return a}))})),a.register("krGWQ",(function(t,n){e(t.exports,"refs",(function(){return o}));const o={homeCardsContainer:document.querySelector(".cards__list"),btnAddToWatched:document.querySelector(".modal_watched"),btnAddToQueue:document.querySelector(".modal_queue"),closeModalBtn:document.querySelector(".modal-close-button"),DEBOUNCE_DELAY:300,formSearch:document.querySelector(".search-form"),filmsSearchList:document.querySelector(".search-form__list"),modalCardBackdrop:document.querySelector(".modal-card-backdrop"),modalCardContainer:document.querySelector(".movie__container"),inputSearch:document.querySelector(".search-form__input")}})),a.register("7x8k5",(function(t,n){e(t.exports,"insertFilmsMarkupToHome",(function(){return r}));var o=a("krGWQ");const r=e=>o.refs.homeCardsContainer.insertAdjacentHTML("beforeend",e)})),a.register("kYzA7",(function(e,t){a("krGWQ")})),a.register("hMkcL",(function(e,t){var n=a("1drNe"),o=a("jU4ZD"),r=a("krGWQ");a("7x8k5");var i=a("fnyLm");function s(){window.removeEventListener("keydown",d),document.body.classList.remove("show-modal"),r.refs.modalCardContainer.innerHTML=""}function d(e){"Escape"===e.code&&s()}r.refs.homeCardsContainer.addEventListener("click",(function(e){if("IMG"!==e.target.nodeName&&"B"!==e.target.nodeName)return;document.body.classList.add("show-modal"),window.addEventListener("keydown",d);const t=e.target.dataset.id,a=localStorage.getItem("currentFilm");let s=JSON.parse(a).find((e=>e.id==t));(function(e){const t=`<div class="movie__container--left-side">\n                <img class="movie__image" src="https://www.themoviedb.org/t/p/w500${e.poster_path}"\n                    alt="${e.title||e.name}" />\n            </div>\n            <div class="movie__container--rigth-side">\n                <h2 class="movie__title">${e.title||e.name}</h2>\n                <table class="movie__info">\n                    <tbody>\n                        <tr class="movie__info-rows">\n                            <td class="movie__info-name">Vote / Votes</td>\n                            <td class="movie__info-rating">\n                                <span class="movie__info-rating-value movie__info-rating--accent">${e.vote_average}</span>\n                                <span class="movie__info-rating-slash">/</span>\n                                <span class="movie__info-rating-value">${e.vote_count}</span>\n                            </td>\n                        </tr>\n                        <tr class="movie__info-rows">\n                            <td class="movie__info-name">Popularity</td>\n                            <td class="movie__info-numbers">${e.popularity}</td>\n                        </tr>\n                        <tr class="movie__info-rows">\n                            <td class="movie__info-name">Original Title</td>\n                            <td class="movie__info-value">${e.original_title||e.original_name}</td>\n                        </tr>\n                        <tr class="movie__info-rows movie__info-rows--last">\n                            <td class="movie__info-name">Genre</td>\n                            <td class="movie__info-value">${(0,n.gettingGenresListForModal)(e.genre_ids)||"Genre not defined"}</td>\n                        </tr>\n                    </tbody>\n                </table>\n                <h2 class="movie__about-title">About</h2>\n                <p class="movie__about-text">\n                    ${e.overview}\n                </p>\n                <div class="movie__btn-container">\n                    <button type="button" class="movie__btn btn btn-trailer">\n                        <svg width='20' height='20' class='youtube-icon' viewBox='0 -77 512.00213 512'>\n                            <path\n                                d='m501.453125 56.09375c-5.902344-21.933594-23.195313-39.222656-45.125-45.128906-40.066406-10.964844-200.332031-10.964844-200.332031-10.964844s-160.261719 0-200.328125 10.546875c-21.507813 5.902344-39.222657 23.617187-45.125 45.546875-10.542969 40.0625-10.542969 123.148438-10.542969 123.148438s0 83.503906 10.542969 123.148437c5.90625 21.929687 23.195312 39.222656 45.128906 45.128906 40.484375 10.964844 200.328125 10.964844 200.328125 10.964844s160.261719 0 200.328125-10.546875c21.933594-5.902344 39.222656-23.195312 45.128906-45.125 10.542969-40.066406 10.542969-123.148438 10.542969-123.148438s.421875-83.507812-10.546875-123.570312zm0 0'\n                                fill='#f00'></path>\n                            <path d='m204.96875 256 133.269531-76.757812-133.269531-76.757813zm0 0' fill='#fff'></path>\n                        </svg>\n                        Watch trailer\n                    </button>\n                    <button type="submit" id="watched-btn" data-id="${e.id}" class="movie__btn btn btn--accent">add\n                        to Watched</button>\n                    <button type="submit" id="queue-btn" data-id="${e.id}" class="movie__btn btn btn-queue">add to\n                        queue</button>\n                </div>\n            </div>\n        </div>`;r.refs.modalCardContainer.insertAdjacentHTML("beforeend",t)})(s),document.querySelector("#watched-btn").addEventListener("click",(()=>{let e=(0,i.addWatchedLocalStorage)(s),t=(0,o.default)(e);console.log(t),r.refs.homeCardsContainer.insertAdjacentHTML("beforeend",t)}))})),r.refs.closeModalBtn.addEventListener("click",s),r.refs.modalCardBackdrop.addEventListener("click",(function(e){e.currentTarget===e.target&&s()}))})),a.register("fnyLm",(function(t,n){e(t.exports,"addWatchedLocalStorage",(function(){return o}));a("krGWQ"),a("jU4ZD"),a("7x8k5");function o(e){let t=[];const n=localStorage.getItem("watched");return n&&(t=JSON.parse(n)),t.push(e),localStorage.setItem("watched",JSON.stringify(t)),t}})),a.register("7x0LX",(function(e,t){a("krGWQ");a("fnyLm")}));
//# sourceMappingURL=index.947f4417.js.map
