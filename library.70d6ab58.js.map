{"mappings":"oeACAA,EAAA,S,WCDA,IAAAC,EAAAD,EAAA,S,8EAaAE,EAAAC,KAAKC,sBAAsBC,iBAAiB,SAO5C,SAAsBC,GACpB,GACwB,QAAtBA,EAAEC,OAAOC,UACa,MAAtBF,EAAEC,OAAOC,UACa,MAAtBF,EAAEC,OAAOC,SAET,OAGFC,SAASC,KAAKC,UAAUC,IAAI,cAC5BC,OAAOR,iBAAiB,UAAWS,EAAAC,iBAEnC,MAAMC,EAAYV,EAAEC,OAAOU,QAAQC,GAE7BC,EAAeC,aAAaC,QAAQ,eAGpCC,EAFqBC,KAAKC,MAAML,GAESM,MAAKC,GAAOA,EAAIR,IAAMF,IAE/DW,GAAS,EAAAC,EAAAC,uBAAsBP,IAErC,EAAArB,EAAA6B,gBAAe,6CACf,EAAAC,EAAAC,uBAAsBL,GAEF,MAAdM,EAAaxB,SAASyB,cAAc,gBAC1CD,EAAW5B,iBAAiB,SAAS,KACnC,IAAI8B,EAAoB,GAExB,MAAMC,EAAUhB,aAAaC,QAAQ,WAEjCe,IACFD,EAAoBZ,KAAKC,MAAMY,IAIbD,EAAkBV,MAAKY,GAAOA,EAAInB,IAAMF,KAExD,EAAAsB,EAAAC,eAAcjB,IACd,EAAAgB,EAAAE,wBAAuBlB,EAAqBW,EAAYQ,IAC5D,EAAAC,EAAAC,cAAa3B,EAAU,IAGzB,MAAM4B,EAAWnC,SAASyB,cAAc,cACxCU,EAASvC,iBAAiB,SAAS,KACjC,IAAIwC,EAAkB,GACtB,MAAMC,EAAI1B,aAAaC,QAAQ,SAC3ByB,IACFD,EAAkBtB,KAAKC,MAAMsB,IAIXD,EAAgBpB,MAAKY,GAAOA,EAAInB,IAAMF,KAEtD,EAAAsB,EAAAS,aAAYzB,IACZ,EAAAgB,EAAAU,sBAAqB1B,EAAqBsB,EAAUH,IACxD,EAAAC,EAAAC,cAAa3B,EAAU,KAEzB,EAAA0B,EAAAC,cAAa3B,E,IA/Dfd,EAAAC,KAAK8C,cAAc5C,iBAAiB,QAASS,EAAAoC,sBAC7ChD,EAAAC,KAAKgD,kBAAkB9C,iBAAiB,QAASS,EAAAsC,0BAGa,MAAxDX,EAAQvC,EAAAC,KAAKkD,mB","sources":["src/library.js","src/js/api/loadModalCardLibrary.js"],"sourcesContent":["// CHANGE COLOR OF HEADER-BUTTONS\nimport './js/helpers/libraryHeaderButtons';\n\n// PAGINATION FOR A LIBRARY PAGE\nimport './js/pagination/paginationLibrary';\n\n//Усуває поимлку в консолі з модальним вікном\n// Якщо розкоментувати - буде помилка\n// CHANGE TEXT OF MODAL-BTNS\n// import './js/modal-btns';\n\n// OPEN MODAL CARD\nimport './js/api/loadModalCardLibrary';\n\n// MODAL IN FOOTER\nimport './js/studentsModal/modal';\n\n// scroll-up-btn\nimport './js/components/scrollUpBtn';\n\n// translate\nimport './js/translation/translationMap';\n\n// change BG color\nimport './js/components/themeButton';\n\n","import { translateItems } from '../translation/translationMap';\nimport { refs } from '../constants/refs';\nimport { insertModalMarkupHome } from '../helpers/insertingIntoDifferentContainers';\nimport {\n  addWatchedLocalStorage,\n  addQueueLocalStorage,\n  deleteQueue,\n  deleteWatched,\n} from '../helpers/storageActions';\nimport { textModalBtn } from '../helpers/modalButtons';\nimport { makingModalCardMarkup } from '../markups/modalCard';\nimport { onCloseModalBtnClick, modalCloseByEsc, onModalCardBackdropClick } from '../helpers/modalActions';\n\nrefs.libraryCardsContainer.addEventListener('click', clickOnMovie);\nrefs.closeModalBtn.addEventListener('click', onCloseModalBtnClick);\nrefs.modalCardBackdrop.addEventListener('click', onModalCardBackdropClick);\n\n// Додано змінну для умови видалення фільму: головна сторінка чи бібліотека\nconst style = refs.homeCardsContainer;\n\nfunction clickOnMovie(e) {\n  if (\n    e.target.nodeName !== 'IMG' &&\n    e.target.nodeName !== 'B' &&\n    e.target.nodeName !== 'P'\n  ) {\n    return;\n  }\n\n  document.body.classList.add('show-modal');\n  window.addEventListener('keydown', modalCloseByEsc);\n\n  const currentId = e.target.dataset.id;\n\n  const currentFilms = localStorage.getItem('currentFilm');\n  const parsedCurrentFilms = JSON.parse(currentFilms);\n\n  const libraryMovieWatched = parsedCurrentFilms.find(obj => obj.id == currentId);\n\n  const render = makingModalCardMarkup(libraryMovieWatched);\n\n  translateItems('.movie__container--rigth-side [data-key]');\n  insertModalMarkupHome(render);\n  //** Код для запису об'єктів в LOCAL STORAGE */\n  const watchedBtn = document.querySelector('#watched-btn');\n  watchedBtn.addEventListener('click', () => {\n    let arrayFilmsWatched = [];\n\n    const watched = localStorage.getItem('watched');\n\n    if (watched) {\n      arrayFilmsWatched = JSON.parse(watched);\n    }\n\n    // Перевірка на наявність об'єкта в масиві фільмів \"WATCHED\"\n    const isAddedFilm = arrayFilmsWatched.find(arr => arr.id == currentId);\n    isAddedFilm\n      ? deleteWatched(libraryMovieWatched)\n      : addWatchedLocalStorage(libraryMovieWatched, watchedBtn, style);\n    textModalBtn(currentId);\n  });\n\n  const queueBtn = document.querySelector('#queue-btn');\n  queueBtn.addEventListener('click', () => {\n    let arrayFilmsQueue = [];\n    const q = localStorage.getItem('queue');\n    if (q) {\n      arrayFilmsQueue = JSON.parse(q);\n    }\n\n    // Перевірка на наявність об'єкта в масиві фільмів \"QUEUE\"\n    const isAddedFilm = arrayFilmsQueue.find(arr => arr.id == currentId);\n    isAddedFilm\n      ? deleteQueue(libraryMovieWatched)\n      : addQueueLocalStorage(libraryMovieWatched, queueBtn, style);\n    textModalBtn(currentId);\n  });\n  textModalBtn(currentId);\n}"],"names":["parcelRequire","$eTryO","$8N7ah","refs","libraryCardsContainer","addEventListener","e","target","nodeName","document","body","classList","add","window","$hubyf","modalCloseByEsc","currentId","dataset","id","currentFilms","localStorage","getItem","libraryMovieWatched","JSON","parse","find","obj","render","$g4HhO","makingModalCardMarkup","translateItems","$9h9Ht","insertModalMarkupHome","watchedBtn","querySelector","arrayFilmsWatched","watched","arr","$jekin","deleteWatched","addWatchedLocalStorage","$ebdeb9d781fb2b98$var$style","$cH4rS","textModalBtn","queueBtn","arrayFilmsQueue","q","deleteQueue","addQueueLocalStorage","closeModalBtn","onCloseModalBtnClick","modalCardBackdrop","onModalCardBackdropClick","homeCardsContainer"],"version":3,"file":"library.70d6ab58.js.map"}