!function(){var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},r=e.parcelRequired7c6;null==r&&((r=function(e){if(e in t)return t[e].exports;if(e in n){var r=n[e];delete n[e];var o={id:e,exports:{}};return t[e]=o,r.call(o.exports,o,o.exports),o.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){n[e]=t},e.parcelRequired7c6=r),r.register("kMC0W",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e){if(Array.isArray(e))return o.default(e)};var n,o=(n=r("8NIkP"))&&n.__esModule?n:{default:n}})),r.register("8NIkP",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}})),r.register("7AJDX",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}})),r.register("8CtQK",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}})),r.register("auk6i",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t){if(!e)return;if("string"==typeof e)return o.default(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o.default(e,t)};var n,o=(n=r("8NIkP"))&&n.__esModule?n:{default:n}}));var o={homeCardsContainer:document.querySelector(".cards__list--home"),libraryCardsContainer:document.querySelector(".cards__list--library"),btnWatched:document.querySelector("#watched"),btnQueue:document.querySelector("#queue"),btnAddToWatched:document.querySelector(".modal_watched"),btnAddToQueue:document.querySelector(".modal_queue"),closeModalBtn:document.querySelector(".modal-close-button"),DEBOUNCE_DELAY:300,formSearch:document.querySelector(".search-form"),filmsSearchList:document.querySelector(".search-form__list"),modalCardContainer:document.querySelector(".movie__container"),inputSearch:document.querySelector(".search-form__input")},a={};Object.defineProperty(a,"__esModule",{value:!0}),a.default=function(e){return i.default(e)||c.default(e)||s.default(e)||l.default()};var i=d(r("kMC0W")),c=d(r("7AJDX")),l=d(r("8CtQK")),s=d(r("auk6i"));function d(e){return e&&e.__esModule?e:{default:e}}function u(e){var t="",n=!0,r=!1,o=void 0;try{for(var a,i=e[Symbol.iterator]();!(n=(a=i.next()).done);n=!0){var c=a.value,l=localStorage.getItem("genre_".concat(c));l&&(t&&(t+=", "),t+=l)}}catch(e){r=!0,o=e}finally{try{n||null==i.return||i.return()}finally{if(r)throw o}}return t}var f="https://image.tmdb.org/t/p/w500";function m(e){return e.map((function(e){var t,n=e.title,r=e.name,o=e.poster_path,a=e.genre_ids,i=e.release_date,c=e.first_air_date,l=e.vote_average,s=e.id,d="";return d=null===o?"https://raw.githubusercontent.com/marvall/filmoteka/main/src/images/no-poster.png":"".concat(f,"/").concat(f,"/").concat(o),'<li class="movie-card">\n        <a class="movie-card__link" href="#">\n                <img data-id="'.concat(s,'" width="280" height="402" class="movie-card__img" src="').concat(d,'" alt="').concat(n||r,'" loading="lazy"/>\n                <div class="movie-card__cont">\n                  <h2 class="movie-card__title">').concat(n||r,'</h2>\n                    <p class="movie-card__info">\n                        <b>').concat(u(a)||"Thriller",' | </b>\n                    </p>\n                    <p class="movie-card__info">\n                        <b>').concat(v(i)||v(c),'</b>\n                    </p>\n                       <p class="movie-card__raiting">\n                        <b>').concat((t=l)?t.toFixed(1):"No vote","</b>\n                    </p>\n                    </div>\n                    </a>\n            </li>")})).join("")}function v(e){return e?e.slice(0,4):"No data"}var _=function(e){return o.libraryCardsContainer.insertAdjacentHTML("beforeend",e)};function b(){h();try{var e=localStorage.getItem("watched");if(null===e)return void g();var t=JSON.parse(e);if(0===t.length)return void g();var n=m(t);_(n)}catch(e){console.log(e)}}function p(){h();try{var e=localStorage.getItem("queue");if(null===e)return void g();var t=JSON.parse(e);if(0===t.length)return void g();var n=m(t);_(n)}catch(e){console.log(e)}}function h(){o.libraryCardsContainer.innerHTML=""}function g(){o.libraryCardsContainer.innerHTML='<strong \n    style="\n    font-size: 18px;\n    color: var(--secondary-text-cl);">\n    Sorry, no information has been added\n    </strong>'}function y(e){window.removeEventListener("keydown",w),document.body.classList.remove("show-modal"),o.modalCardContainer.innerHTML=""}function w(e){"Escape"===e.code&&y()}o.btnWatched.addEventListener("click",(function(e){b(),o.btnWatched.style.backgroundColor="var(--button-bg-cl)",o.btnWatched.style.borderColor="var(--button-bg-cl)",o.btnQueue.style.backgroundColor="transparent",o.btnQueue.style.borderColor="var(--header-text-cl)"})),o.btnQueue.addEventListener("click",(function(e){p(),o.btnQueue.style.backgroundColor="var(--button-bg-cl)",o.btnQueue.style.borderColor="var(--button-bg-cl)",o.btnWatched.style.backgroundColor="transparent",o.btnWatched.style.borderColor="var(--header-text-cl)"})),b(),o.homeCardsContainer.addEventListener("click",(function(e){if("IMG"!==e.target.nodeName&&"B"!==e.target.nodeName)return;var t=e.target.dataset.id,n=localStorage.getItem("currentFilm");r=JSON.parse(n).find((function(e){return e.id==t})),a='<div class="movie__container--left-side">\n                <img width="240" height="357" class="movie__image" src="https://www.themoviedb.org/t/p/w500'.concat(r.poster_path,'"\n                    alt="').concat(r.title||r.name,'" />\n            </div>\n            <div class="movie__container--rigth-side">\n                <h2 class="movie__title">').concat(r.title||r.name,'</h2>\n                <table class="movie__info">\n                    <tbody>\n                        <tr class="movie__info-rows">\n                            <td class="movie__info-name">Vote / Votes</td>\n                            <td class="movie__info-rating">\n                                <span class="movie__info-rating-value movie__info-rating--accent">').concat(r.vote_average,'</span>\n                                <span class="movie__info-rating-slash">/</span>\n                                <span class="movie__info-rating-value">').concat(r.vote_count,'</span>\n                            </td>\n                        </tr>\n                        <tr class="movie__info-rows">\n                            <td class="movie__info-name">Popularity</td>\n                            <td class="movie__info-numbers">').concat(r.popularity,'</td>\n                        </tr>\n                        <tr class="movie__info-rows">\n                            <td class="movie__info-name">Original Title</td>\n                            <td class="movie__info-value">').concat(r.original_title||r.original_name,'</td>\n                        </tr>\n                        <tr class="movie__info-rows movie__info-rows--last">\n                            <td class="movie__info-name">Genre</td>\n                            <td class="movie__info-value">').concat(u(r.genre_ids)||"Thriller",'</td>\n                        </tr>\n                    </tbody>\n                </table>\n                <h2 class="movie__about-title">About</h2>\n                <p class="movie__about-text">\n                    ').concat(r.overview,"\n                </p>\n                <div class=\"movie__btn-container\">\n                    <button type=\"button\" class=\"movie__btn btn btn-trailer\">\n                        <svg width='40' height='40' class='youtube-icon' viewBox='0 -77 512.00213 512'>\n                            <path\n                                d='m501.453125 56.09375c-5.902344-21.933594-23.195313-39.222656-45.125-45.128906-40.066406-10.964844-200.332031-10.964844-200.332031-10.964844s-160.261719 0-200.328125 10.546875c-21.507813 5.902344-39.222657 23.617187-45.125 45.546875-10.542969 40.0625-10.542969 123.148438-10.542969 123.148438s0 83.503906 10.542969 123.148437c5.90625 21.929687 23.195312 39.222656 45.128906 45.128906 40.484375 10.964844 200.328125 10.964844 200.328125 10.964844s160.261719 0 200.328125-10.546875c21.933594-5.902344 39.222656-23.195312 45.128906-45.125 10.542969-40.066406 10.542969-123.148438 10.542969-123.148438s.421875-83.507812-10.546875-123.570312zm0 0'\n                                fill='#f00'></path>\n                            <path d='m204.96875 256 133.269531-76.757812-133.269531-76.757813zm0 0' fill='#fff'></path>\n                        </svg>\n                        Watch trailer\n                    </button>\n                    <button type=\"submit\" id=\"watched-btn\" data-id=\"").concat(r.id,'" class="movie__btn btn btn--accent">add\n                        to Watched</button>\n                    <button type="submit" id="queue-btn" data-id="').concat(r.id,'" class="movie__btn btn btn-queue">add to\n                        queue</button>\n                </div>\n            </div>\n        </div>'),o.modalCardContainer.insertAdjacentHTML("beforeend",a),document.body.classList.add("show-modal"),window.addEventListener("keydown",w);var r,a})),o.closeModalBtn.addEventListener("click",y)}();
//# sourceMappingURL=library.88ab047d.js.map
