{"mappings":"YAAO,IAAMA,EAAO,CAElBC,mBAAoBC,SAASC,cAAc,sBAC3CC,sBAAuBF,SAASC,cAAc,yBAG9CE,WAAYH,SAASC,cAAc,YACnCG,SAAUJ,SAASC,cAAc,UAEjCI,gBAAiBL,SAASC,cAAc,kBACxCK,cAAeN,SAASC,cAAc,gBAEtCM,cAAeP,SAASC,cAAc,uBAGtCO,eAAgB,IAChBC,WAAYT,SAASC,cAAc,gBACnCS,gBAAiBV,SAASC,cAAc,sBAGxCU,mBAAoBX,SAASC,cAAc,qBAE3CW,YAAaZ,SAASC,cAAc,wBCGtC,SAASY,EAAqBC,GAC5BC,OAAOC,oBAAoB,UAAWC,GACtCjB,SAASkB,KAAKC,UAAUC,OAAO,cAC/BtB,EAAKa,mBAAmBU,UAAY,E,CAGtC,SAASJ,EAAgBH,GACR,WAAXA,EAAEQ,MACJT,G,CC/BJf,EAAKK,WAAWoB,iBAAiB,SAGjC,SAA2BT,GACzBhB,EAAKK,WAAWqB,MAAMC,gBAAkB,sBACxC3B,EAAKK,WAAWqB,MAAME,YAAc,sBACpC5B,EAAKM,SAASoB,MAAMC,gBAAkB,cACtC3B,EAAKM,SAASoB,MAAME,YAAc,uB,IANpC5B,EAAKM,SAASmB,iBAAiB,SAS/B,SAAyBT,GACvBhB,EAAKM,SAASoB,MAAMC,gBAAkB,sBACtC3B,EAAKM,SAASoB,MAAME,YAAc,sBAClC5B,EAAKK,WAAWqB,MAAMC,gBAAkB,cACxC3B,EAAKK,WAAWqB,MAAME,YAAc,uB,IDZtC5B,EAAKC,mBAAmBwB,iBAAiB,SAKzC,SAAsBT,GACpB,GAA0B,QAAtBA,EAAEa,OAAOC,UAA4C,MAAtBd,EAAEa,OAAOC,SAC1C,OAEF,IAAMC,EAAYf,EAAEa,OAAOG,QAAQC,GAC7BC,EAA4BC,aAAaC,QAAQ,eAuB1BC,EAtBGC,KAAKC,MAAML,GAGjBM,MAAK,SAAAH,G,OAAOA,EAAIJ,IAAMF,C,IAoB1CU,EAAS,yJAIUC,OAFTL,EAAIM,YACL,gCAI0BD,OAHhBL,EAAIO,OAASP,EAAIQ,KAAK,+HAUfH,OAPSL,EAAIO,OAASP,EAAIQ,KAAK,uXAW/BH,OAJAL,EAAIS,aACL,qKAUHJ,OAPIL,EAAIU,WACL,4QAYHL,OANAL,EAAIW,WACL,yOAU+BN,OAL9BL,EAAIY,gBAAkBZ,EAAIa,cAC3B,uPAYPR,OElFP,SAA2BS,GACxC,IAAIC,EAAc,GAEbC,GAAQ,EAARC,GAAQ,EAARC,OAAQC,E,IAAb,QAAKC,EAAAC,EAAYP,EAAKQ,OAAAC,cAAjBP,GAAAI,EAAAC,EAAQG,QAAAC,MAART,GAAQ,EAAW,CAAnB,IAAMpB,EAANwB,EAAQM,MACLC,EAAa7B,aAAaC,QAAQ,SAAYM,OAAHT,IAC5C+B,IAGDZ,IACFA,GAAe,MAEjBA,GAAeY,E,WARZV,GAAQ,EAARC,EAAQU,C,aAARZ,GAAQ,MAARK,EAAQQ,QAARR,EAAQQ,Q,YAARZ,E,MAAAC,C,EAUL,OAAOH,C,CF6DmD,CAC9Bf,EAAI8B,WACJ,gOAmBRzB,OAbAL,EAAI+B,SAAS,ozCAiBb1B,OAJAL,EAAIJ,GACL,6JAIAS,OADCL,EAAIJ,GACL,iJAKnBjC,EAAKa,mBAAmBwD,mBAAmB,YAAa5B,GApFxDvC,SAASkB,KAAKC,UAAUiD,IAAI,cAC5BrD,OAAOQ,iBAAiB,UAAWN,GAerC,IAA+BkB,EACvBI,C,IAjCRzC,EAAKS,cAAcgB,iBAAiB,QAASV,E","sources":["src/js/refs.js","src/js/api/loadModalCard.js","src/js/library-header-btns.js","src/js/api/gettingGenresList.js"],"sourcesContent":["export const refs = {\n  // containers\n  homeCardsContainer: document.querySelector('.cards__list--home'),\n  libraryCardsContainer: document.querySelector('.cards__list--library'),\n\n  // buttons\n  btnWatched: document.querySelector('.watched'),\n  btnQueue: document.querySelector('.queue'),\n\n  btnAddToWatched: document.querySelector('.modal_watched'),\n  btnAddToQueue: document.querySelector('.modal_queue'),\n\n  closeModalBtn: document.querySelector('.modal-close-button'),\n\n  // search\n  DEBOUNCE_DELAY: 300,\n  formSearch: document.querySelector('.search-form'),\n  filmsSearchList: document.querySelector('.search-form__list'),\n\n  //modal-card\n  modalCardContainer: document.querySelector('.movie__container'),\n\n  inputSearch: document.querySelector('.search-form__input'),\n};\n","import gettingGenresList from './gettingGenresList';\n// import MoviesApiService from './moviesApiServiceClass';\nimport { refs } from '../refs';\n\nrefs.homeCardsContainer.addEventListener('click', clickOnMovie);\nrefs.closeModalBtn.addEventListener('click', onCloseModalBtnClick);\n\n// const moviesApiService = new MoviesApiService();\n\nfunction clickOnMovie(e) {\n  if (e.target.nodeName !== 'IMG' && e.target.nodeName !== 'B') {\n    return;\n  }\n  const currentId = e.target.dataset.id;\n  const unParsedCurrentArrayFilms = localStorage.getItem('currentFilm');\n  const parsedCurrentArrayFilms = JSON.parse(unParsedCurrentArrayFilms);\n  // console.log(parsedCurrentArrayFilms.find(obj => obj.id == currentId));\n  makingModalCardMarkup(\n    parsedCurrentArrayFilms.find(obj => obj.id == currentId)\n  );\n\n  document.body.classList.add('show-modal');\n  window.addEventListener('keydown', modalCloseByEsc);\n}\n\nfunction onCloseModalBtnClick(e) {\n  window.removeEventListener('keydown', modalCloseByEsc);\n  document.body.classList.remove('show-modal');\n  refs.modalCardContainer.innerHTML = '';\n}\n\nfunction modalCloseByEsc(e) {\n  if (e.code === 'Escape') {\n    onCloseModalBtnClick();\n  }\n}\n\nfunction makingModalCardMarkup(obj) {\n  const markup = `<div class=\"movie__container--left-side\">\n                <img width=\"240\" height=\"357\" class=\"movie__image\" src=\"https://www.themoviedb.org/t/p/w500${\n                  obj.poster_path\n                }\"\n                    alt=\"${obj.title || obj.name}\" />\n            </div>\n            <div class=\"movie__container--rigth-side\">\n                <h2 class=\"movie__title\">${obj.title || obj.name}</h2>\n                <table class=\"movie__info\">\n                    <tbody>\n                        <tr class=\"movie__info-rows\">\n                            <td class=\"movie__info-name\">Vote / Votes</td>\n                            <td class=\"movie__info-rating\">\n                                <span class=\"movie__info-rating-value movie__info-rating--accent\">${\n                                  obj.vote_average\n                                }</span>\n                                <span class=\"movie__info-rating-slash\">/</span>\n                                <span class=\"movie__info-rating-value\">${\n                                  obj.vote_count\n                                }</span>\n                            </td>\n                        </tr>\n                        <tr class=\"movie__info-rows\">\n                            <td class=\"movie__info-name\">Popularity</td>\n                            <td class=\"movie__info-numbers\">${\n                              obj.popularity\n                            }</td>\n                        </tr>\n                        <tr class=\"movie__info-rows\">\n                            <td class=\"movie__info-name\">Original Title</td>\n                            <td class=\"movie__info-value\">${\n                              obj.original_title || obj.original_name\n                            }</td>\n                        </tr>\n                        <tr class=\"movie__info-rows movie__info-rows--last\">\n                            <td class=\"movie__info-name\">Genre</td>\n                            <td class=\"movie__info-value\">${gettingGenresList(\n                              obj.genre_ids\n                            )}</td>\n                        </tr>\n                    </tbody>\n                </table>\n                <h2 class=\"movie__about-title\">About</h2>\n                <p class=\"movie__about-text\">\n                    ${obj.overview}\n                </p>\n                <div class=\"movie__btn-container\">\n                    <button type=\"button\" class=\"movie__btn btn btn-trailer\">\n                        <svg width='40' height='40' class='youtube-icon' viewBox='0 -77 512.00213 512'>\n                            <path\n                                d='m501.453125 56.09375c-5.902344-21.933594-23.195313-39.222656-45.125-45.128906-40.066406-10.964844-200.332031-10.964844-200.332031-10.964844s-160.261719 0-200.328125 10.546875c-21.507813 5.902344-39.222657 23.617187-45.125 45.546875-10.542969 40.0625-10.542969 123.148438-10.542969 123.148438s0 83.503906 10.542969 123.148437c5.90625 21.929687 23.195312 39.222656 45.128906 45.128906 40.484375 10.964844 200.328125 10.964844 200.328125 10.964844s160.261719 0 200.328125-10.546875c21.933594-5.902344 39.222656-23.195312 45.128906-45.125 10.542969-40.066406 10.542969-123.148438 10.542969-123.148438s.421875-83.507812-10.546875-123.570312zm0 0'\n                                fill='#f00'></path>\n                            <path d='m204.96875 256 133.269531-76.757812-133.269531-76.757813zm0 0' fill='#fff'></path>\n                        </svg>\n                        Watch trailer\n                    </button>\n                    <button type=\"submit\" id=\"watched-btn\" data-id=\"${\n                      obj.id\n                    }\" class=\"movie__btn btn btn--accent\">add\n                        to Watched</button>\n                    <button type=\"submit\" id=\"queue-btn\" data-id=\"${\n                      obj.id\n                    }\" class=\"movie__btn btn btn-queue\">add to\n                        queue</button>\n                </div>\n            </div>\n        </div>`;\n  refs.modalCardContainer.insertAdjacentHTML('beforeend', markup);\n}\n","import { refs } from './refs';\n\nrefs.btnWatched.addEventListener('click', onBtnWatchedClick);\nrefs.btnQueue.addEventListener('click', onBtnQueueClick);\n\nfunction onBtnWatchedClick(e) {\n  refs.btnWatched.style.backgroundColor = 'var(--button-bg-cl)';\n  refs.btnWatched.style.borderColor = 'var(--button-bg-cl)';\n  refs.btnQueue.style.backgroundColor = 'transparent';\n  refs.btnQueue.style.borderColor = 'var(--header-text-cl)';\n}\n\nfunction onBtnQueueClick(e) {\n  refs.btnQueue.style.backgroundColor = 'var(--button-bg-cl)';\n  refs.btnQueue.style.borderColor = 'var(--button-bg-cl)';\n  refs.btnWatched.style.backgroundColor = 'transparent';\n  refs.btnWatched.style.borderColor = 'var(--header-text-cl)';\n}\n","export default function gettingGenresList(array) {\n  let genre_names = '';\n\n  for (const id of array) {\n    const genre_name = localStorage.getItem(`genre_${id}`);\n    if (!genre_name) {\n      continue;\n    }\n    if (genre_names) {\n      genre_names += ', ';\n    }\n    genre_names += genre_name;\n  }\n  return genre_names;\n}\n"],"names":["$37e33676934ad046$export$21666b427502ea6d","homeCardsContainer","document","querySelector","libraryCardsContainer","btnWatched","btnQueue","btnAddToWatched","btnAddToQueue","closeModalBtn","DEBOUNCE_DELAY","formSearch","filmsSearchList","modalCardContainer","inputSearch","$59d24059f9f5cdf0$var$onCloseModalBtnClick","e","window","removeEventListener","$59d24059f9f5cdf0$var$modalCloseByEsc","body","classList","remove","innerHTML","code","addEventListener","style","backgroundColor","borderColor","target","nodeName","currentId","dataset","id","unParsedCurrentArrayFilms","localStorage","getItem","obj","JSON","parse","find","markup","concat","poster_path","title","name","vote_average","vote_count","popularity","original_title","original_name","array","genre_names","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","Symbol","iterator","next","done","value","genre_name","err","return","genre_ids","overview","insertAdjacentHTML","add"],"version":3,"file":"library.1dd120c5.js.map"}